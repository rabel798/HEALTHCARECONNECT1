{% extends 'layout.html' %}

{% block title %}Patient Reviews & Testimonials - Dr. Richa's Eye Clinic{% endblock %}

{% block content %}
<!-- Reviews Hero -->
<section class="reviews-hero">
    <div class="container">
        <div class="row">
            <div class="col-lg-8 offset-lg-2 text-center fade-in">
                <h1 class="display-4 fw-bold mb-4">Patient Reviews & Testimonials</h1>
                <p class="lead mb-0">Read about experiences from our satisfied patients and share your own</p>
            </div>
        </div>
    </div>
</section>

<!-- Reviews Overview -->
<section class="py-5">
    <div class="container">
        <div class="row">
            <div class="col-lg-8 offset-lg-2 text-center fade-in">
                <h2 class="mb-4">What Our Patients Say</h2>
                <p class="lead">At Dr. Richa's Eye Clinic, patient satisfaction is our priority. Here's what our patients have to say about their experiences with us.</p>
            </div>
        </div>
    </div>
</section>

<!-- Animated Testimonials Section -->
<section class="py-5 bg-light overflow-hidden">
    <div class="container-fluid">
        <div class="row mb-5">
            <div class="col-12 text-center fade-in">
                <h2 class="mb-4">What Our Patients Say</h2>
                <p class="lead">Real testimonials from our satisfied patients</p>
            </div>
        </div>
        
        <!-- Moving testimonials -->
        <div class="testimonials-wrapper position-relative">
            <div class="testimonials-track d-flex" id="testimonials-track">
                <!-- Row 1 - Moving Right -->
                <div class="testimonial-row moving-right">
                    <div class="testimonial-card">
                        <div class="testimonial-content">
                            <div class="stars mb-2">
                                <i class="fas fa-star text-warning"></i>
                                <i class="fas fa-star text-warning"></i>
                                <i class="fas fa-star text-warning"></i>
                                <i class="fas fa-star text-warning"></i>
                                <i class="fas fa-star text-warning"></i>
                            </div>
                            <p class="mb-3">"Dr. Richa's expertise in pediatric eye care is exceptional. My daughter's vision improved significantly after her treatment. The clinic environment is child-friendly and the staff is incredibly patient."</p>
                            <div class="testimonial-author">
                                <div class="author-avatar">
                                    <i class="fas fa-user-circle fa-2x text-primary"></i>
                                </div>
                                <div class="author-info">
                                    <h6 class="mb-0">Priya Sharma</h6>
                                    <small class="text-muted">Mother of 8-year-old patient</small>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="testimonial-card">
                        <div class="testimonial-content">
                            <div class="stars mb-2">
                                <i class="fas fa-star text-warning"></i>
                                <i class="fas fa-star text-warning"></i>
                                <i class="fas fa-star text-warning"></i>
                                <i class="fas fa-star text-warning"></i>
                                <i class="far fa-star text-warning"></i>
                            </div>
                            <p class="mb-3">"I had been suffering from chronic dry eyes for years. Dr. Richa's comprehensive treatment plan has given me relief I never thought possible. Highly recommend!"</p>
                            <div class="testimonial-author">
                                <div class="author-avatar">
                                    <i class="fas fa-user-circle fa-2x text-success"></i>
                                </div>
                                <div class="author-info">
                                    <h6 class="mb-0">Rajesh Kumar</h6>
                                    <small class="text-muted">Software Engineer</small>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="testimonial-card">
                        <div class="testimonial-content">
                            <div class="stars mb-2">
                                <i class="fas fa-star text-warning"></i>
                                <i class="fas fa-star text-warning"></i>
                                <i class="fas fa-star text-warning"></i>
                                <i class="fas fa-star text-warning"></i>
                                <i class="fas fa-star text-warning"></i>
                            </div>
                            <p class="mb-3">"The cataract surgery was seamless and recovery was faster than expected. Dr. Richa explained every step and made me feel completely comfortable throughout the process."</p>
                            <div class="testimonial-author">
                                <div class="author-avatar">
                                    <i class="fas fa-user-circle fa-2x text-info"></i>
                                </div>
                                <div class="author-info">
                                    <h6 class="mb-0">Mrs. Lakshmi Devi</h6>
                                    <small class="text-muted">Retired Teacher</small>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="testimonial-card">
                        <div class="testimonial-content">
                            <div class="stars mb-2">
                                <i class="fas fa-star text-warning"></i>
                                <i class="fas fa-star text-warning"></i>
                                <i class="fas fa-star text-warning"></i>
                                <i class="fas fa-star text-warning"></i>
                                <i class="far fa-star text-warning"></i>
                            </div>
                            <p class="mb-3">"Great experience overall! The clinic is well-equipped with modern technology. Dr. Richa's diagnosis was accurate and the treatment plan worked well for my needs."</p>
                            <div class="testimonial-author">
                                <div class="author-avatar">
                                    <i class="fas fa-user-circle fa-2x text-warning"></i>
                                </div>
                                <div class="author-info">
                                    <h6 class="mb-0">Arun Patel</h6>
                                    <small class="text-muted">Business Owner</small>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- Row 2 - Moving Left -->
                <div class="testimonial-row moving-left">
                    <div class="testimonial-card">
                        <div class="testimonial-content">
                            <div class="stars mb-2">
                                <i class="fas fa-star text-warning"></i>
                                <i class="fas fa-star text-warning"></i>
                                <i class="fas fa-star text-warning"></i>
                                <i class="fas fa-star text-warning"></i>
                                <i class="fas fa-star text-warning"></i>
                            </div>
                            <p class="mb-3">"Professional, caring, and highly skilled. Dr. Richa treated my glaucoma with such precision. The follow-up care has been excellent and my vision is stable."</p>
                            <div class="testimonial-author">
                                <div class="author-avatar">
                                    <i class="fas fa-user-circle fa-2x text-danger"></i>
                                </div>
                                <div class="author-info">
                                    <h6 class="mb-0">Sunita Reddy</h6>
                                    <small class="text-muted">Government Employee</small>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="testimonial-card">
                        <div class="testimonial-content">
                            <div class="stars mb-2">
                                <i class="fas fa-star text-warning"></i>
                                <i class="fas fa-star text-warning"></i>
                                <i class="fas fa-star text-warning"></i>
                                <i class="fas fa-star text-warning"></i>
                                <i class="far fa-star text-warning"></i>
                            </div>
                            <p class="mb-3">"My son's lazy eye condition was treated effectively here. Dr. Richa's approach with children is quite good. Overall satisfied with the care received."</p>
                            <div class="testimonial-author">
                                <div class="author-avatar">
                                    <i class="fas fa-user-circle fa-2x text-purple"></i>
                                </div>
                                <div class="author-info">
                                    <h6 class="mb-0">Kavitha Nair</h6>
                                    <small class="text-muted">Marketing Professional</small>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="testimonial-card">
                        <div class="testimonial-content">
                            <div class="stars mb-2">
                                <i class="fas fa-star text-warning"></i>
                                <i class="fas fa-star text-warning"></i>
                                <i class="fas fa-star text-warning"></i>
                                <i class="fas fa-star text-warning"></i>
                                <i class="fas fa-star text-warning"></i>
                            </div>
                            <p class="mb-3">"State-of-the-art equipment and world-class treatment. The LASIK surgery was life-changing. No more glasses! Thank you Dr. Richa for giving me clear vision."</p>
                            <div class="testimonial-author">
                                <div class="author-avatar">
                                    <i class="fas fa-user-circle fa-2x text-success"></i>
                                </div>
                                <div class="author-info">
                                    <h6 class="mb-0">Vikram Singh</h6>
                                    <small class="text-muted">IT Professional</small>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="testimonial-card">
                        <div class="testimonial-content">
                            <div class="stars mb-2">
                                <i class="fas fa-star text-warning"></i>
                                <i class="fas fa-star text-warning"></i>
                                <i class="fas fa-star text-warning"></i>
                                <i class="fas fa-star text-warning"></i>
                                <i class="far fa-star text-warning"></i>
                            </div>
                            <p class="mb-3">"Good experience with the team! The appointment booking was smooth and the treatment care was good. Dr. Richa is knowledgeable and professional."</p>
                            <div class="testimonial-author">
                                <div class="author-avatar">
                                    <i class="fas fa-user-circle fa-2x text-info"></i>
                                </div>
                                <div class="author-info">
                                    <h6 class="mb-0">Meera Joshi</h6>
                                    <small class="text-muted">College Professor</small>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- Database Reviews Display -->
<section class="py-5">
    <div class="container">
        <div class="row">
            <div class="col-12 text-center mb-5 fade-in">
                <h2>Recent Patient Reviews</h2>
                <p class="lead">See what our recent patients have shared about their experience</p>
            </div>
        </div>
        <div class="row">
            {% if reviews %}
                {% for review in reviews %}
                <div class="col-lg-6 mb-4 fade-in">
                    <div class="review-display-card p-4">
                        <div class="d-flex justify-content-between align-items-start mb-3">
                            <div class="stars">
                                {% for i in range(review.rating) %}
                                    <i class="fas fa-star text-warning me-1"></i>
                                {% endfor %}
                                {% for i in range(5 - review.rating) %}
                                    <i class="far fa-star text-warning me-1"></i>
                                {% endfor %}
                            </div>
                            <span class="badge bg-primary rounded-pill">{{ review.rating }}/5</span>
                        </div>
                        <blockquote class="blockquote mb-3">
                            <p class="mb-0 fst-italic">"{{ review.review_text }}"</p>
                        </blockquote>
                        <div class="d-flex justify-content-between align-items-center">
                            <div>
                                <h6 class="mb-0 text-primary">{{ review.patient_name }}</h6>
                                <small class="text-muted">Verified Patient</small>
                            </div>
                            <small class="text-muted">
                                <i class="far fa-calendar-alt me-1"></i>
                                {{ review.created_at.strftime('%B %d, %Y') }}
                            </small>
                        </div>
                    </div>
                </div>
                {% endfor %}
            {% else %}
                <!-- If no real reviews, show some of the testimonials as examples -->
                <div class="col-lg-6 mb-4 fade-in">
                    <div class="review-display-card p-4">
                        <div class="d-flex justify-content-between align-items-start mb-3">
                            <div class="stars">
                                <i class="fas fa-star text-warning me-1"></i>
                                <i class="fas fa-star text-warning me-1"></i>
                                <i class="fas fa-star text-warning me-1"></i>
                                <i class="fas fa-star text-warning me-1"></i>
                                <i class="fas fa-star text-warning me-1"></i>
                            </div>
                            <span class="badge bg-primary rounded-pill">5/5</span>
                        </div>
                        <blockquote class="blockquote mb-3">
                            <p class="mb-0 fst-italic">"Dr. Richa's expertise in pediatric eye care is exceptional. My daughter's vision improved significantly after her treatment."</p>
                        </blockquote>
                        <div class="d-flex justify-content-between align-items-center">
                            <div>
                                <h6 class="mb-0 text-primary">Priya Sharma</h6>
                                <small class="text-muted">Patient Review</small>
                            </div>
                            <small class="text-muted">
                                <i class="far fa-calendar-alt me-1"></i>
                                Recent Patient
                            </small>
                        </div>
                    </div>
                </div>
                
                <div class="col-lg-6 mb-4 fade-in">
                    <div class="review-display-card p-4">
                        <div class="d-flex justify-content-between align-items-start mb-3">
                            <div class="stars">
                                <i class="fas fa-star text-warning me-1"></i>
                                <i class="fas fa-star text-warning me-1"></i>
                                <i class="fas fa-star text-warning me-1"></i>
                                <i class="fas fa-star text-warning me-1"></i>
                                <i class="fas fa-star text-warning me-1"></i>
                            </div>
                            <span class="badge bg-primary rounded-pill">5/5</span>
                        </div>
                        <blockquote class="blockquote mb-3">
                            <p class="mb-0 fst-italic">"Amazing experience! The clinic is well-equipped with modern technology and Dr. Richa's diagnosis was spot-on."</p>
                        </blockquote>
                        <div class="d-flex justify-content-between align-items-center">
                            <div>
                                <h6 class="mb-0 text-primary">Arun Patel</h6>
                                <small class="text-muted">Patient Review</small>
                            </div>
                            <small class="text-muted">
                                <i class="far fa-calendar-alt me-1"></i>
                                Recent Patient
                            </small>
                        </div>
                    </div>
                </div>
                
                <div class="col-12 text-center mt-3">
                    <div class="alert alert-info">
                        <i class="fas fa-info-circle me-2"></i>
                        Submit your own review below to share your experience with future patients!
                    </div>
                </div>
            {% endif %}
        </div>
    </div>
</section>

<!-- Submit Review Form -->
<section class="py-5">
    <div class="container">
        <div class="row">
            <div class="col-lg-8 offset-lg-2 text-center mb-5 fade-in">
                <h2>Share Your Experience</h2>
                <p class="lead">Your feedback helps us improve and helps other patients make informed decisions.</p>
            </div>
        </div>
        
        <div class="row">
            <div class="col-lg-8 offset-lg-2 fade-in">
                <div class="review-form-container">
                    <div class="p-5">
                        <form method="POST" action="{{ url_for('reviews') }}" class="needs-validation" novalidate>
                            {{ form.csrf_token }}
                            
                            <div class="mb-4">
                                <label for="patient_name" class="form-label">Your Name</label>
                                {{ form.patient_name(class="form-control", placeholder="Enter your name", required=true) }}
                                <div class="invalid-feedback">
                                    Please provide your name.
                                </div>
                            </div>
                            
                            <div class="mb-4">
                                <label class="form-label">Your Rating</label>
                                <div class="card border-0 shadow-sm p-3 mb-2">
                                    <div class="d-flex flex-column align-items-center">
                                        <div class="star-rating mb-2" role="group" aria-label="Rate your experience">
                                            <button type="button" class="star-btn" data-rating="1" title="Poor (1 star)"><i class="far fa-star"></i></button>
                                            <button type="button" class="star-btn" data-rating="2" title="Fair (2 stars)"><i class="far fa-star"></i></button>
                                            <button type="button" class="star-btn" data-rating="3" title="Good (3 stars)"><i class="far fa-star"></i></button>
                                            <button type="button" class="star-btn" data-rating="4" title="Very Good (4 stars)"><i class="far fa-star"></i></button>
                                            <button type="button" class="star-btn" data-rating="5" title="Excellent (5 stars)"><i class="far fa-star"></i></button>
                                        </div>
                                        <div class="rating-feedback text-center mt-1 mb-0">
                                            <span class="badge bg-light text-dark px-3 py-2 rounded-pill">Click to rate your experience</span>
                                        </div>
                                    </div>
                                </div>
                                {{ form.rating(type="hidden", class="rating-input", required=true) }}
                            </div>
                            
                            <div class="mb-4">
                                <label for="review_text" class="form-label">Your Review</label>
                                {{ form.review_text(class="form-control", rows=5, placeholder="Share your experience at our clinic", required=true) }}
                                <div class="invalid-feedback">
                                    Please share your experience.
                                </div>
                            </div>
                            
                            <div class="text-center">
                                <div class="loader"></div>
                                <button type="submit" class="btn btn-primary btn-lg">Submit Review</button>
                            </div>
                        </form>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- Review Guidelines -->
<section class="py-5 bg-light">
    <div class="container">
        <div class="row">
            <div class="col-lg-8 offset-lg-2 fade-in">
                <h3 class="mb-4 text-center">Review Guidelines</h3>
                
                <div class="review-guidelines-card p-4 mb-4">
                    <div class="d-flex align-items-start">
                        <div class="me-3">
                            <i class="fas fa-lightbulb text-primary fa-2x"></i>
                        </div>
                        <div>
                            <h5 class="text-primary mb-3">What to Include in Your Review</h5>
                            <ul class="mb-0 list-unstyled">
                                <li class="mb-2"><i class="fas fa-check text-success me-2"></i>Your overall experience with our clinic</li>
                                <li class="mb-2"><i class="fas fa-check text-success me-2"></i>Quality of care received</li>
                                <li class="mb-2"><i class="fas fa-check text-success me-2"></i>Interactions with staff and doctors</li>
                                <li class="mb-2"><i class="fas fa-check text-success me-2"></i>Clinic environment and cleanliness</li>
                                <li class="mb-0"><i class="fas fa-check text-success me-2"></i>Wait times and appointment scheduling experience</li>
                            </ul>
                        </div>
                    </div>
                </div>
                
                <div class="review-guidelines-card p-4">
                    <div class="d-flex align-items-start">
                        <div class="me-3">
                            <i class="fas fa-shield-alt text-primary fa-2x"></i>
                        </div>
                        <div>
                            <h5 class="text-primary mb-3">Review Moderation</h5>
                            <p class="mb-0">All reviews are moderated before being published to ensure they adhere to our guidelines. We value authentic feedback and aim to display a balanced representation of patient experiences. Please note that reviews containing personal information, offensive language, or unrelated content will not be published.</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- Call to Action -->
<section class="bg-primary text-white py-5">
    <div class="container">
        <div class="row align-items-center">
            <div class="col-lg-8 fade-in">
                <h2 class="mb-3">Ready to Experience Our Care?</h2>
                <p class="lead mb-0">Join our satisfied patients by scheduling your appointment today.</p>
            </div>
            <div class="col-lg-4 text-lg-end mt-4 mt-lg-0 fade-in">
                <a href="{{ url_for('appointment') }}" class="btn btn-light btn-lg">Book an Appointment</a>
            </div>
        </div>
    </div>
</section>
{% endblock %}
